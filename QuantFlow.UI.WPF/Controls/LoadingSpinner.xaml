<UserControl x:Class="QuantFlow.UI.WPF.Controls.LoadingSpinner"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Viewbox Width="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=SpinnerSize}" 
             Height="{Binding RelativeSource={RelativeSource AncestorType=UserControl}, Path=SpinnerSize}">
        <Grid Width="48" Height="48">
            <Ellipse Width="48" Height="48" 
                     Stroke="{DynamicResource BorderColor}" 
                     StrokeThickness="4"
                     Opacity="0.3"/>
            <Path Data="M 24,2 A 22,22 0 0,1 46,24" 
                  Stroke="{DynamicResource AccentColor}" 
                  StrokeThickness="4" 
                  StrokeStartLineCap="Round"
                  StrokeEndLineCap="Round"
                  RenderTransformOrigin="0.5,0.5">
                <Path.RenderTransform>
                    <RotateTransform x:Name="SpinnerRotate" Angle="0"/>
                </Path.RenderTransform>
                <Path.Triggers>
                    <EventTrigger RoutedEvent="Loaded">
                        <BeginStoryboard>
                            <Storyboard RepeatBehavior="Forever">
                                <DoubleAnimation Storyboard.TargetName="SpinnerRotate"
                                               Storyboard.TargetProperty="Angle"
                                               From="0" To="360"
                                               Duration="0:0:1"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger>
                </Path.Triggers>
            </Path>
        </Grid>
    </Viewbox>
</UserControl>